

//setup variables for each element needed
var currentWordElement = document.getElementById("word");
var winCountElement = document.getElementById("wins");
var lettersGuessedElement = document.getElementById("guesses");
var guessCountElement = document.getElementById("guess-count");



//setup onkeyup function
//setup function that changes blank spaces to letters
//setup function that lists alredy guessed letters

//setup function that lists number of guesses remaining   
//setup function that resets game 

//create an array with all the possible band name choices
var wordsArray = ["Nirvana", 
                "Soundgarden", 
                "Pearl Jam", 
                "Stone Temple Pilots", 
                "Smashing Pumpkins", 
                "Alice in Chains", 
                "Temple of the Dog", 
                "Bush",
                "Hole",
                ];

//setup variable for word generated by computer

var randomWord = wordsArray[Math.floor(Math.random() * wordsArray.length)].toLowerCase();

//setup variable for tracker of total letters guessed

var allLettersGuessed = [];

//setup maximum attempts parameter

const maxAttempts = 7;

//setup guesses remaining counter

var guessCount = 0;
var guessesRemaining = maxAttempts - guessCount;

//setup function that tallies wins

var winCount = 0;

//setup victory signifer

var wordComplete = false;


//setup function to generate a word

function renderWord() {
    var html = "";
    for(var i = 0; i < randomWord.length; i++) {
        if(allLettersGuessed.indexOf(randomWord[i]) !== -1 || randomWord[i] === " ") {
            html += randomWord[i].toUpperCase();
        } else {
            html += "_";
        }
    }
    currentWordElement.innerHTML = html;
}


function clearWordAndGuesses() {
    guessCountElement.innerHTML = maxAttempts;
    guessCount = 0;
    guessesRemaining = maxAttempts - guessCount;
    allLettersGuessed = [];
    lettersGuessedElement.innerHTML = "";
}



renderWord();
winCountElement.innerHTML = winCount;
guessCountElement.innerHTML = guessesRemaining;

document.onkeydown = function(e) {
    var theKey = e.key.toLowerCase();
    var theKeyCode = e.keyCode;

    if(theKeyCode >= 65 && theKeyCode <= 90 && allLettersGuessed.indexOf(theKey) === -1){
        allLettersGuessed.push(theKey);

        if(randomWord.indexOf(theKey) === -1) {
            guessCount++;
        }

        guessesRemaining = maxAttempts - guessCount;

        if(guessesRemaining === 0) {
            clearWordAndGuesses();
            randomWord = wordsArray[Math.floor(Math.random() * wordsArray.length)].toLowerCase();
        } else {
            guessCountElement.innerHTML = guessesRemaining;
        }

        var html = "";
        for(var i = 0; i < allLettersGuessed.length; i++) {
            if(randomWord.indexOf(allLettersGuessed[i]) === -1) {
                html += allLettersGuessed[i].toUpperCase();
            }
        }
        lettersGuessedElement.innerHTML = html;

        renderWord();

        var renderedWord = document.getElementById("word").innerHTML;
        if(renderedWord.indexOf("_") === -1) {
            wordComplete = true;
        }
    }
    if(wordComplete) {
        wordComplete = false;
        winCount++;
        winCountElement.innerHTML = winCount;
        clearWordAndGuesses();
        randomWord = wordsArray[Math.floor(Math.random() * wordsArray.length)].toLowerCase();
        renderWord();
    }

}